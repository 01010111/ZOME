// Generated by Haxe 4.0.0-preview.5+7eb789f
(function ($global) { "use strict";
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}var IHasContext = function() { };
$hxClasses["IHasContext"] = IHasContext;
IHasContext.__name__ = "IHasContext";
IHasContext.prototype = {
	set_context: null
	,__class__: IHasContext
};
var App = function() {
	App.i = this;
	this.init_panels();
	this.layers.add_layer("Tile Layer FG",EContext.TILE);
	this.layers.add_layer("Entity Layer",EContext.ENTITY);
	this.layers.add_layer("Tile Layer BG",EContext.TILE);
	this.levels.add_level("Level 01");
	this.levels.add_level("Level 02");
};
$hxClasses["App"] = App;
App.__name__ = "App";
App.__interfaces__ = [IHasContext];
App.main = function() {
	new App();
};
App.i = null;
App.prototype = {
	tools: null
	,layers: null
	,levels: null
	,tiles: null
	,entities: null
	,inspector: null
	,tool: null
	,context: null
	,init_panels: function() {
		this.tools = new panels_Tools();
		this.layers = new panels_Layers();
		this.levels = new panels_Levels();
		this.tiles = new panels_Tiles();
		this.entities = new panels_Entities();
		this.inspector = new panels_Inspector();
	}
	,set_context: function(context) {
		this.context = context;
		this.tools.set_context(context);
		this.tiles.set_context(context);
		this.entities.set_context(context);
		this.inspector.set_context(context);
	}
	,__class__: App
};
var EContext = $hxEnums["EContext"] = { __ename__ : "EContext", __constructs__ : ["TILE","ENTITY"]
	,TILE: {_hx_index:0,__enum__:"EContext",toString:$estr}
	,ENTITY: {_hx_index:1,__enum__:"EContext",toString:$estr}
};
EContext.__empty_constructs__ = [EContext.TILE,EContext.ENTITY];
var ETool = $hxEnums["ETool"] = { __ename__ : "ETool", __constructs__ : ["CURSOR","PENCIL","ERASER","BUCKET"]
	,CURSOR: {_hx_index:0,__enum__:"ETool",toString:$estr}
	,PENCIL: {_hx_index:1,__enum__:"ETool",toString:$estr}
	,ERASER: {_hx_index:2,__enum__:"ETool",toString:$estr}
	,BUCKET: {_hx_index:3,__enum__:"ETool",toString:$estr}
};
ETool.__empty_constructs__ = [ETool.CURSOR,ETool.PENCIL,ETool.ERASER,ETool.BUCKET];
var _$EnumValue_EnumValue_$Impl_$ = {};
$hxClasses["_EnumValue.EnumValue_Impl_"] = _$EnumValue_EnumValue_$Impl_$;
_$EnumValue_EnumValue_$Impl_$.__name__ = "_EnumValue.EnumValue_Impl_";
_$EnumValue_EnumValue_$Impl_$.match = function(this1,pattern) {
	return false;
};
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = "HxOverrides";
HxOverrides.dateStr = function(date) {
	var m = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.strDate = function(s) {
	switch(s.length) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k1 = s.split("-");
		return new Date(k1[0],k1[1] - 1,k1[2],0,0,0);
	case 19:
		var k2 = s.split(" ");
		var y = k2[0].split("-");
		var t = k2[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw new js__$Boot_HaxeError("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.indexOf = function(a,obj,i) {
	var len = a.length;
	if(i < 0) {
		i += len;
		if(i < 0) {
			i = 0;
		}
	}
	while(i < len) {
		if(((a[i]) === obj)) {
			return i;
		}
		++i;
	}
	return -1;
};
HxOverrides.lastIndexOf = function(a,obj,i) {
	var len = a.length;
	if(i >= len) {
		i = len - 1;
	} else if(i < 0) {
		i += len;
	}
	while(i >= 0) {
		if(((a[i]) === obj)) {
			return i;
		}
		--i;
	}
	return -1;
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
var IntIterator = function(min,max) {
	this.min = min;
	this.max = max;
};
$hxClasses["IntIterator"] = IntIterator;
IntIterator.__name__ = "IntIterator";
IntIterator.prototype = {
	min: null
	,max: null
	,hasNext: function() {
		return this.min < this.max;
	}
	,next: function() {
		return this.min++;
	}
	,__class__: IntIterator
};
Math.__name__ = "Math";
var Reflect = function() { };
$hxClasses["Reflect"] = Reflect;
Reflect.__name__ = "Reflect";
Reflect.hasField = function(o,field) {
	return Object.prototype.hasOwnProperty.call(o,field);
};
Reflect.field = function(o,field) {
	try {
		return o[field];
	} catch( e ) {
		var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
		return null;
	}
};
Reflect.setField = function(o,field,value) {
	o[field] = value;
};
Reflect.getProperty = function(o,field) {
	var tmp;
	if(o == null) {
		return null;
	} else {
		var tmp1;
		if(o.__properties__) {
			tmp = o.__properties__["get_" + field];
			tmp1 = tmp;
		} else {
			tmp1 = false;
		}
		if(tmp1) {
			return o[tmp]();
		} else {
			return o[field];
		}
	}
};
Reflect.setProperty = function(o,field,value) {
	var tmp;
	var tmp1;
	if(o.__properties__) {
		tmp = o.__properties__["set_" + field];
		tmp1 = tmp;
	} else {
		tmp1 = false;
	}
	if(tmp1) {
		o[tmp](value);
	} else {
		o[field] = value;
	}
};
Reflect.callMethod = function(o,func,args) {
	return func.apply(o,args);
};
Reflect.fields = function(o) {
	var a = [];
	if(o != null) {
		var hasOwnProperty = Object.prototype.hasOwnProperty;
		for( var f in o ) {
		if(f != "__id__" && f != "hx__closures__" && hasOwnProperty.call(o,f)) {
			a.push(f);
		}
		}
	}
	return a;
};
Reflect.isFunction = function(f) {
	if(typeof(f) == "function") {
		return !(f.__name__ || f.__ename__);
	} else {
		return false;
	}
};
Reflect.compare = function(a,b) {
	if(a == b) {
		return 0;
	} else if(a > b) {
		return 1;
	} else {
		return -1;
	}
};
Reflect.compareMethods = function(f1,f2) {
	if(f1 == f2) {
		return true;
	}
	if(!Reflect.isFunction(f1) || !Reflect.isFunction(f2)) {
		return false;
	}
	if(f1.scope == f2.scope && f1.method == f2.method) {
		return f1.method != null;
	} else {
		return false;
	}
};
Reflect.isObject = function(v) {
	if(v == null) {
		return false;
	}
	var t = typeof(v);
	if(!(t == "string" || t == "object" && v.__enum__ == null)) {
		if(t == "function") {
			return (v.__name__ || v.__ename__) != null;
		} else {
			return false;
		}
	} else {
		return true;
	}
};
Reflect.isEnumValue = function(v) {
	if(v != null) {
		return v.__enum__ != null;
	} else {
		return false;
	}
};
Reflect.deleteField = function(o,field) {
	if(!Object.prototype.hasOwnProperty.call(o,field)) {
		return false;
	}
	delete(o[field]);
	return true;
};
Reflect.copy = function(o) {
	var o2 = { };
	var _g = 0;
	var _g1 = Reflect.fields(o);
	while(_g < _g1.length) {
		var f = _g1[_g];
		++_g;
		o2[f] = Reflect.field(o,f);
	}
	return o2;
};
Reflect.makeVarArgs = function(f) {
	return function() {
		var a = Array.prototype.slice.call(arguments);
		return f(a);
	};
};
var Std = function() { };
$hxClasses["Std"] = Std;
Std.__name__ = "Std";
Std.is = function(v,t) {
	return js_Boot.__instanceof(v,t);
};
Std.instance = function(value,c) {
	if((value instanceof c)) {
		return value;
	} else {
		return null;
	}
};
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.int = function(x) {
	return x | 0;
};
Std.parseInt = function(x) {
	var v = parseInt(x, x && x[0]=="0" && (x[1]=="x" || x[1]=="X") ? 16 : 10);
	if(isNaN(v)) {
		return null;
	}
	return v;
};
Std.parseFloat = function(x) {
	return parseFloat(x);
};
Std.random = function(x) {
	if(x <= 0) {
		return 0;
	} else {
		return Math.floor(Math.random() * x);
	}
};
var ValueType = $hxEnums["ValueType"] = { __ename__ : "ValueType", __constructs__ : ["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]
	,TNull: {_hx_index:0,__enum__:"ValueType",toString:$estr}
	,TInt: {_hx_index:1,__enum__:"ValueType",toString:$estr}
	,TFloat: {_hx_index:2,__enum__:"ValueType",toString:$estr}
	,TBool: {_hx_index:3,__enum__:"ValueType",toString:$estr}
	,TObject: {_hx_index:4,__enum__:"ValueType",toString:$estr}
	,TFunction: {_hx_index:5,__enum__:"ValueType",toString:$estr}
	,TClass: ($_=function(c) { return {_hx_index:6,c:c,__enum__:"ValueType",toString:$estr}; },$_.__params__ = ["c"],$_)
	,TEnum: ($_=function(e) { return {_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}; },$_.__params__ = ["e"],$_)
	,TUnknown: {_hx_index:8,__enum__:"ValueType",toString:$estr}
};
ValueType.__empty_constructs__ = [ValueType.TNull,ValueType.TInt,ValueType.TFloat,ValueType.TBool,ValueType.TObject,ValueType.TFunction,ValueType.TUnknown];
var Type = function() { };
$hxClasses["Type"] = Type;
Type.__name__ = "Type";
Type.getClass = function(o) {
	if(o == null) {
		return null;
	} else {
		return js_Boot.getClass(o);
	}
};
Type.getEnum = function(o) {
	if(o == null) {
		return null;
	}
	return $hxEnums[o.__enum__];
};
Type.getSuperClass = function(c) {
	return c.__super__;
};
Type.getClassName = function(c) {
	return c.__name__;
};
Type.getEnumName = function(e) {
	return e.__ename__;
};
Type.resolveClass = function(name) {
	return $hxClasses[name];
};
Type.resolveEnum = function(name) {
	return $hxEnums[name];
};
Type.createInstance = function(cl,args) {
	return new (Function.prototype.bind.apply(cl,[null].concat(args)));
};
Type.createEmptyInstance = function(cl) {
	return Object.create(cl.prototype);
};
Type.createEnum = function(e,constr,params) {
	var f = Reflect.field(e,constr);
	if(f == null) {
		throw new js__$Boot_HaxeError("No such constructor " + constr);
	}
	if(Reflect.isFunction(f)) {
		if(params == null) {
			throw new js__$Boot_HaxeError("Constructor " + constr + " need parameters");
		}
		return f.apply(e,params);
	}
	if(params != null && params.length != 0) {
		throw new js__$Boot_HaxeError("Constructor " + constr + " does not need parameters");
	}
	return f;
};
Type.createEnumIndex = function(e,index,params) {
	var c = e.__constructs__[index];
	if(c == null) {
		throw new js__$Boot_HaxeError(index + " is not a valid enum constructor index");
	}
	return Type.createEnum(e,c,params);
};
Type.getInstanceFields = function(c) {
	var a = [];
	for(var i in c.prototype) a.push(i);
	HxOverrides.remove(a,"__class__");
	HxOverrides.remove(a,"__properties__");
	return a;
};
Type.getClassFields = function(c) {
	var a = Reflect.fields(c);
	HxOverrides.remove(a,"__name__");
	HxOverrides.remove(a,"__interfaces__");
	HxOverrides.remove(a,"__properties__");
	HxOverrides.remove(a,"__super__");
	HxOverrides.remove(a,"__meta__");
	HxOverrides.remove(a,"prototype");
	return a;
};
Type.getEnumConstructs = function(e) {
	return e.__constructs__.slice();
};
Type["typeof"] = function(v) {
	switch(typeof(v)) {
	case "boolean":
		return ValueType.TBool;
	case "function":
		if(v.__name__ || v.__ename__) {
			return ValueType.TObject;
		}
		return ValueType.TFunction;
	case "number":
		if(Math.ceil(v) == v % 2147483648.0) {
			return ValueType.TInt;
		}
		return ValueType.TFloat;
	case "object":
		if(v == null) {
			return ValueType.TNull;
		}
		var e = v.__enum__;
		if(e != null) {
			return ValueType.TEnum($hxEnums[e]);
		}
		var c = js_Boot.getClass(v);
		if(c != null) {
			return ValueType.TClass(c);
		}
		return ValueType.TObject;
	case "string":
		return ValueType.TClass(String);
	case "undefined":
		return ValueType.TNull;
	default:
		return ValueType.TUnknown;
	}
};
Type.enumEq = function(a,b) {
	if(a == b) {
		return true;
	}
	try {
		var e = a.__enum__;
		if(e == null || e != b.__enum__) {
			return false;
		}
		if(a._hx_index != b._hx_index) {
			return false;
		}
		var enm = $hxEnums[e];
		var ctorName = enm.__constructs__[a._hx_index];
		var params = enm[ctorName].__params__;
		var _g = 0;
		while(_g < params.length) {
			var f = params[_g];
			++_g;
			if(!Type.enumEq(a[f],b[f])) {
				return false;
			}
		}
	} catch( e1 ) {
		var e2 = (e1 instanceof js__$Boot_HaxeError) ? e1.val : e1;
		return false;
	}
	return true;
};
Type.enumConstructor = function(e) {
	return $hxEnums[e.__enum__].__constructs__[e._hx_index];
};
Type.enumParameters = function(e) {
	var enm = $hxEnums[e.__enum__];
	var ctorName = enm.__constructs__[e._hx_index];
	var params = enm[ctorName].__params__;
	if(params != null) {
		var _g = [];
		var _g1 = 0;
		while(_g1 < params.length) {
			var p = params[_g1];
			++_g1;
			_g.push(e[p]);
		}
		return _g;
	} else {
		return [];
	}
};
Type.enumIndex = function(e) {
	return e._hx_index;
};
Type.allEnums = function(e) {
	return e.__empty_constructs__.slice();
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = "haxe.IMap";
haxe_IMap.prototype = {
	get: null
	,set: null
	,exists: null
	,remove: null
	,keys: null
	,iterator: null
	,keyValueIterator: null
	,copy: null
	,toString: null
	,__class__: haxe_IMap
};
var haxe__$DynamicAccess_DynamicAccess_$Impl_$ = {};
$hxClasses["haxe._DynamicAccess.DynamicAccess_Impl_"] = haxe__$DynamicAccess_DynamicAccess_$Impl_$;
haxe__$DynamicAccess_DynamicAccess_$Impl_$.__name__ = "haxe._DynamicAccess.DynamicAccess_Impl_";
haxe__$DynamicAccess_DynamicAccess_$Impl_$._new = function() {
	var this1 = { };
	return this1;
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.get = function(this1,key) {
	return this1[key];
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.set = function(this1,key,value) {
	return this1[key] = value;
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.exists = function(this1,key) {
	return Object.prototype.hasOwnProperty.call(this1,key);
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.remove = function(this1,key) {
	return Reflect.deleteField(this1,key);
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.keys = function(this1) {
	return Reflect.fields(this1);
};
haxe__$DynamicAccess_DynamicAccess_$Impl_$.copy = function(this1) {
	return Reflect.copy(this1);
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
$hxClasses["js._Boot.HaxeError"] = js__$Boot_HaxeError;
js__$Boot_HaxeError.__name__ = "js._Boot.HaxeError";
js__$Boot_HaxeError.wrap = function(val) {
	if((val instanceof Error)) {
		return val;
	} else {
		return new js__$Boot_HaxeError(val);
	}
};
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	val: null
	,__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
$hxClasses["js.Boot"] = js_Boot;
js_Boot.__name__ = "js.Boot";
js_Boot.isClass = function(o) {
	return o.__name__;
};
js_Boot.isEnum = function(e) {
	return e.__ename__;
};
js_Boot.getClass = function(o) {
	if((o instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if((o instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = l;
			while(_g3 < _g11) {
				var i1 = _g3++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			var e2 = (e1 instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	var intf = cc.__interfaces__;
	if(intf != null) {
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = _g++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		if((o instanceof Array)) {
			return o.__enum__ == null;
		} else {
			return false;
		}
		break;
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return true;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if((o instanceof cl)) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if((o instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		return $hxEnums[o.__enum__] == cl;
	}
};
js_Boot.__cast = function(o,t) {
	if(js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var js_Browser = function() { };
$hxClasses["js.Browser"] = js_Browser;
js_Browser.__name__ = "js.Browser";
js_Browser.getLocalStorage = function() {
	try {
		var s = window.localStorage;
		s.getItem("");
		if(s.length == 0) {
			var key = "_hx_" + Math.random();
			s.setItem(key,key);
			s.removeItem(key);
		}
		return s;
	} catch( e ) {
		var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
		return null;
	}
};
js_Browser.getSessionStorage = function() {
	try {
		var s = window.sessionStorage;
		s.getItem("");
		if(s.length == 0) {
			var key = "_hx_" + Math.random();
			s.setItem(key,key);
			s.removeItem(key);
		}
		return s;
	} catch( e ) {
		var e1 = (e instanceof js__$Boot_HaxeError) ? e.val : e;
		return null;
	}
};
js_Browser.createXMLHttpRequest = function() {
	if(typeof XMLHttpRequest != "undefined") {
		return new XMLHttpRequest();
	}
	if(typeof ActiveXObject != "undefined") {
		return new ActiveXObject("Microsoft.XMLHTTP");
	}
	throw new js__$Boot_HaxeError("Unable to create XMLHttpRequest object.");
};
js_Browser.alert = function(v) {
	window.alert(js_Boot.__string_rec(v,""));
};
var js_Lib = function() { };
$hxClasses["js.Lib"] = js_Lib;
js_Lib.__name__ = "js.Lib";
js_Lib.__properties__ = {get_undefined:"get_undefined"};
js_Lib.debug = function() {
	debugger;
};
js_Lib.alert = function(v) {
	alert(js_Boot.__string_rec(v,""));
};
js_Lib["eval"] = function(code) {
	return eval(code);
};
js_Lib.get_undefined = function() {
	return undefined;
};
js_Lib.rethrow = function() {
};
js_Lib.getOriginalException = function() {
	return null;
};
var js_html__$ArrayBuffer_ArrayBufferCompat = function() { };
$hxClasses["js.html._ArrayBuffer.ArrayBufferCompat"] = js_html__$ArrayBuffer_ArrayBufferCompat;
js_html__$ArrayBuffer_ArrayBufferCompat.__name__ = "js.html._ArrayBuffer.ArrayBufferCompat";
js_html__$ArrayBuffer_ArrayBufferCompat.sliceImpl = function(begin,end) {
	var u = new Uint8Array(this,begin,end == null ? null : end - begin);
	var resultArray = new Uint8Array(u.byteLength);
	resultArray.set(u);
	return resultArray.buffer;
};
var js_html__$CanvasElement_CanvasUtil = function() { };
$hxClasses["js.html._CanvasElement.CanvasUtil"] = js_html__$CanvasElement_CanvasUtil;
js_html__$CanvasElement_CanvasUtil.__name__ = "js.html._CanvasElement.CanvasUtil";
js_html__$CanvasElement_CanvasUtil.getContextWebGL = function(canvas,attribs) {
	var name = "webgl";
	var ctx = canvas.getContext(name,attribs);
	if(ctx != null) {
		return ctx;
	}
	var name1 = "experimental-webgl";
	var ctx1 = canvas.getContext(name1,attribs);
	if(ctx1 != null) {
		return ctx1;
	}
	return null;
};
var panels_Entities = function() {
	this.init();
};
$hxClasses["panels.Entities"] = panels_Entities;
panels_Entities.__name__ = "panels.Entities";
panels_Entities.__interfaces__ = [IHasContext];
panels_Entities.prototype = {
	element: null
	,init: function() {
		this.element = window.document.getElementById("entities");
	}
	,set_context: function(context) {
		switch(context._hx_index) {
		case 0:
			this.element.hidden = true;
			break;
		case 1:
			this.element.hidden = false;
			break;
		}
	}
	,__class__: panels_Entities
};
var panels_Inspector = function() {
	this.init();
};
$hxClasses["panels.Inspector"] = panels_Inspector;
panels_Inspector.__name__ = "panels.Inspector";
panels_Inspector.__interfaces__ = [IHasContext];
panels_Inspector.prototype = {
	element: null
	,init: function() {
		this.element = window.document.getElementById("inspector");
	}
	,set_context: function(context) {
	}
	,__class__: panels_Inspector
};
var panels_Layers = function() {
	this.layers = [];
	this.init();
};
$hxClasses["panels.Layers"] = panels_Layers;
panels_Layers.__name__ = "panels.Layers";
panels_Layers.prototype = {
	element: null
	,window: null
	,current_layer: null
	,layers: null
	,add_btn: null
	,delete_btn: null
	,init: function() {
		var _gthis = this;
		this.element = window.document.getElementById("layers");
		this.window = this.element.getElementsByClassName("window")[0];
		this.add_btn = window.document.getElementById("add_layer");
		this.delete_btn = window.document.getElementById("delete_layer");
		this.add_btn.onclick = function(e) {
			_gthis.invoke_add_layer_modal();
			return;
		};
		this.delete_btn.onclick = function(e1) {
			_gthis.invoke_delete_layer_modal(_gthis.current_layer);
			return;
		};
	}
	,invoke_add_layer_modal: function() {
	}
	,invoke_delete_layer_modal: function(layer) {
	}
	,add_layer: function(name,context) {
		var _gthis = this;
		var layer = new panels_Layer(context,name);
		layer.element.onclick = function(e) {
			_gthis.select_layer(layer);
			return;
		};
		this.window.appendChild(layer.element);
		if(this.current_layer == null) {
			this.select_layer(layer);
		}
		this.layers.push(layer);
	}
	,select_layer: function(layer) {
		if(this.current_layer != null) {
			this.current_layer.deselect();
		}
		this.current_layer = layer;
		this.current_layer.select();
		App.i.set_context(layer.context);
	}
	,delete_layer: function(layer) {
		if(this.layers.length <= 1) {
			return;
		}
		var idx = this.layers.indexOf(layer);
		this.window.removeChild(layer.element);
		HxOverrides.remove(this.layers,layer);
		if(this.current_layer != layer) {
			return;
		}
		this.select_layer(this.layers[Math.floor(Math.min(idx,this.layers.length - 1))]);
	}
	,__class__: panels_Layers
};
var panels_Layer = function(context,name) {
	this.visible = true;
	this.context = context;
	this.name = name;
	this.create_element();
	this.create_icon();
	this.create_text();
};
$hxClasses["panels.Layer"] = panels_Layer;
panels_Layer.__name__ = "panels.Layer";
panels_Layer.prototype = {
	element: null
	,context: null
	,name: null
	,visible: null
	,text: null
	,icon: null
	,vis_icon: null
	,create_element: function() {
		this.element = window.document.createElement("div");
		this.element.classList.add("layer_panel");
		this.element.classList.add("window_panel");
	}
	,create_icon: function() {
		this.icon = window.document.createElement("img");
		var tmp;
		switch(this.context._hx_index) {
		case 0:
			tmp = "icons/icon_tiles.svg";
			break;
		case 1:
			tmp = "icons/icon_objects.svg";
			break;
		}
		this.icon.src = tmp;
		this.icon.classList.add("layer_icon");
		this.element.appendChild(this.icon);
	}
	,create_text: function() {
		this.text = window.document.createElement("p");
		this.text.innerText = this.name;
		this.text.classList.add("layer_name");
		this.element.appendChild(this.text);
	}
	,select: function() {
		this.element.classList.add("selected");
	}
	,deselect: function() {
		this.element.classList.remove("selected");
	}
	,__class__: panels_Layer
};
var panels_Levels = function() {
	this.levels = [];
	this.init();
};
$hxClasses["panels.Levels"] = panels_Levels;
panels_Levels.__name__ = "panels.Levels";
panels_Levels.prototype = {
	element: null
	,window: null
	,current_level: null
	,levels: null
	,add_btn: null
	,delete_btn: null
	,init: function() {
		var _gthis = this;
		this.element = window.document.getElementById("levels");
		this.window = this.element.getElementsByClassName("window")[0];
		this.add_btn = window.document.getElementById("add_level");
		this.delete_btn = window.document.getElementById("delete_level");
		this.add_btn.onclick = function(e) {
			_gthis.invoke_add_level_modal();
			return;
		};
		this.delete_btn.onclick = function(e1) {
			_gthis.invoke_delete_level_modal(_gthis.current_level);
			return;
		};
	}
	,invoke_add_level_modal: function() {
	}
	,invoke_delete_level_modal: function(level) {
	}
	,add_level: function(name) {
		var _gthis = this;
		var level = new panels_Level(name);
		level.element.onclick = function(e) {
			_gthis.select_level(level);
			return;
		};
		this.window.appendChild(level.element);
		if(this.current_level == null) {
			this.select_level(level);
		}
		this.levels.push(level);
	}
	,select_level: function(level) {
		if(this.current_level != null) {
			this.current_level.deselect();
		}
		this.current_level = level;
		this.current_level.select();
	}
	,delete_level: function(level) {
		if(this.levels.length <= 1) {
			return;
		}
		var idx = this.levels.indexOf(level);
		this.window.removeChild(level.element);
		HxOverrides.remove(this.levels,level);
		if(this.current_level != level) {
			return;
		}
		this.select_level(this.levels[Math.floor(Math.min(idx,this.levels.length - 1))]);
	}
	,__class__: panels_Levels
};
var panels_Level = function(name) {
	this.name = name;
	this.create_element();
	this.create_text();
};
$hxClasses["panels.Level"] = panels_Level;
panels_Level.__name__ = "panels.Level";
panels_Level.prototype = {
	element: null
	,name: null
	,text: null
	,create_element: function() {
		this.element = window.document.createElement("div");
		this.element.classList.add("level_panel");
		this.element.classList.add("window_panel");
	}
	,create_text: function() {
		this.text = window.document.createElement("p");
		this.text.innerText = this.name;
		this.text.classList.add("level_name");
		this.element.appendChild(this.text);
	}
	,select: function() {
		this.element.classList.add("selected");
	}
	,deselect: function() {
		this.element.classList.remove("selected");
	}
	,__class__: panels_Level
};
var panels_Tiles = function() {
	this.init();
};
$hxClasses["panels.Tiles"] = panels_Tiles;
panels_Tiles.__name__ = "panels.Tiles";
panels_Tiles.__interfaces__ = [IHasContext];
panels_Tiles.prototype = {
	element: null
	,init: function() {
		this.element = window.document.getElementById("tiles");
	}
	,set_context: function(context) {
		switch(context._hx_index) {
		case 0:
			this.element.hidden = false;
			break;
		case 1:
			this.element.hidden = true;
			break;
		}
	}
	,__class__: panels_Tiles
};
var panels_Tools = function() {
	this.init();
};
$hxClasses["panels.Tools"] = panels_Tools;
panels_Tools.__name__ = "panels.Tools";
panels_Tools.__interfaces__ = [IHasContext];
panels_Tools.prototype = {
	element: null
	,tool_cursor: null
	,tool_pencil: null
	,tool_eraser: null
	,tool_bucket: null
	,current_tool: null
	,init: function() {
		var _gthis = this;
		this.element = window.document.getElementById("tools");
		this.tool_cursor = window.document.getElementById("icon_cursor");
		this.tool_pencil = window.document.getElementById("icon_pencil");
		this.tool_eraser = window.document.getElementById("icon_eraser");
		this.tool_bucket = window.document.getElementById("icon_bucket");
		var tool = this.tool_cursor;
		tool.onclick = function(e) {
			_gthis.select_tool(tool);
			return;
		};
		var tool1 = this.tool_pencil;
		tool1.onclick = function(e1) {
			_gthis.select_tool(tool1);
			return;
		};
		var tool2 = this.tool_eraser;
		tool2.onclick = function(e2) {
			_gthis.select_tool(tool2);
			return;
		};
		var tool3 = this.tool_bucket;
		tool3.onclick = function(e3) {
			_gthis.select_tool(tool3);
			return;
		};
		this.select_tool(this.tool_cursor);
	}
	,select_tool: function(tool) {
		if(this.current_tool == tool) {
			return;
		}
		var tmp;
		switch(tool.id) {
		case "icon_bucket":
			tmp = ETool.BUCKET;
			break;
		case "icon_cursor":
			tmp = ETool.CURSOR;
			break;
		case "icon_eraser":
			tmp = ETool.ERASER;
			break;
		case "icon_pencil":
			tmp = ETool.PENCIL;
			break;
		default:
			tmp = ETool.PENCIL;
		}
		App.i.tool = tmp;
		if(this.current_tool != null) {
			this.current_tool.classList.remove("selected");
		}
		this.current_tool = tool;
		this.current_tool.classList.add("selected");
	}
	,set_context: function(context) {
		switch(context._hx_index) {
		case 0:
			this.tool_cursor.hidden = true;
			this.tool_bucket.hidden = false;
			if(this.current_tool == this.tool_cursor) {
				this.select_tool(this.tool_pencil);
			}
			break;
		case 1:
			this.tool_cursor.hidden = false;
			this.tool_bucket.hidden = true;
			if(this.current_tool == this.tool_bucket) {
				this.select_tool(this.tool_pencil);
			}
			break;
		}
	}
	,__class__: panels_Tools
};
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
function $getIterator(o) { if( o instanceof Array ) return HxOverrides.iter(o); else return o.iterator(); }
var $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
function $arrayPush(x) { this.push(x); }
$hxClasses["Math"] = Math;
if( String.fromCodePoint == null ) String.fromCodePoint = function(c) { return c < 0x10000 ? String.fromCharCode(c) : String.fromCharCode((c>>10)+0xD7C0)+String.fromCharCode((c&0x3FF)+0xDC00); }
String.prototype.__class__ = $hxClasses["String"] = String;
String.__name__ = "String";
$hxClasses["Array"] = Array;
Array.__name__ = "Array";
Date.prototype.__class__ = $hxClasses["Date"] = Date;
Date.__name__ = "Date";
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
if(ArrayBuffer.prototype.slice == null) {
	ArrayBuffer.prototype.slice = js_html__$ArrayBuffer_ArrayBufferCompat.sliceImpl;
}
js_Boot.__toStr = ({ }).toString;
App.main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);

//# sourceMappingURL=app.js.map